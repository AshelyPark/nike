<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ch.nike.mapper.AdminMapper">
	<select id="memberlist" resultType="member"> <!-- 관리자 회원목록 -->
		select * from member order by reg_date desc
	</select>
	
	<select id="productlist" resultType="product"><!-- 관리자 상품 목록 -->
		select p.*, d.color, d.stock, d.product_size, h.product_photo,d.product_detail_no 
		from product p, product_detail d , product_photo h where p.product_no = d.product_no and 
		p.product_no=h.product_no and d.color=h.color and h.batch=1 order by p.product_no
	</select>
	
	<select id="orderlist" resultType="userorder"><!-- 관리자 주문 목록 -->
		select * from user_order order by order_no desc
	</select>
	
	<select id="qnalist" resultType="qna"><!-- 관리자 문의 목록 -->
		 select * from qna order by qna_no desc
	</select>
	
	<select id="reviewlist" resultType="review"><!-- 관리자 리뷰 목록 -->
		select * from review order by review_no desc
	</select>
	
	<select id="noticelist" resultType="notice">
		select * from notice order by notice_no desc
	</select>
	
	<select id="storelist" resultType="store">
		select * from store order by store_no desc
	</select>
	
	<select id="memberselect" parameterType="string" resultType="member">
		select*from member where email=#{email} order by reg_date desc
	</select>
	
	<select id="reviewselect" parameterType="string" resultType="review">
		select r.*, p.product_name from review r, product p where p.product_no = r.product_no and r.email=#{email}
	</select>
	
	<select id="wishselect" parameterType="string" resultType="product">
		select p.*, h.* from wish w, product p, product_photo h where 
		p.product_no = h.product_no and p.product_no = w.product_no and w.email=#{email} and h.batch=1 order by w.wish_no desc
	</select>
	
	<select id="userorderselect" parameterType="string" resultType="userorder">
		 select uo.*, uod.* from user_order uo, user_order_detail uod where uo.order_no = uod.order_no and 
		 uo.email=#{email} order by uo.order_no desc
	</select>
</mapper>