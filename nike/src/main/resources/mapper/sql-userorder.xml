<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ch.nike.mapper.UserOrderMapper">
	<select id="userorderselect" parameterType="string"	resultType="Userorder">
		select	uo.*,
				uod.*
		from	user_order uo,
				user_order_detail uod
		where	uo.order_no = uod.order_no
			and uo.email = #{email}
	order by	uo.order_no desc
	</select>
	<select id="selectUserOrder" parameterType="string" resultType="UserOrder"> <!-- mypage - orders -->
		select	*
		from	user_order
		where	email = #{email}
	order by	order_no desc
	</select>

	<select id="paginglist" parameterType="pagingbean" resultType="userorder">
		select 	* 
		from 	(select a.*, rowNum rn from (select uo.*,refund_chk from user_order uo, user_order_detail uod where uo.order_no=uod.order_no order by uo.order_no desc)a) 
		where 	rn between #{startRow} and #{endRow}
	</select>
	<select id="getTotal" resultType="integer"> <!-- 페이징용 전체 주문 카운트 by창률 -->
		select 	count(*) 
		from	user_order
	</select>
	
</mapper>